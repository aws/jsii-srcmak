// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`java + different entrypoint 1`] = `
Object {
  "src/main/java/hello/world/$Module.java": "package hello.world;

import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.IOException;
import java.io.Reader;
import java.io.UncheckedIOException;

import java.nio.charset.StandardCharsets;

import java.util.HashMap;
import java.util.Map;

import software.amazon.jsii.JsiiModule;

public final class $Module extends JsiiModule {
    private static final Map<String, String> MODULE_TYPES = load();

    private static Map<String, String> load() {
        final Map<String, String> result = new HashMap<>();
        final ClassLoader cl = $Module.class.getClassLoader();
        try (final InputStream is = cl.getResourceAsStream(\\"hello/world/$Module.txt\\");
             final Reader rd = new InputStreamReader(is, StandardCharsets.UTF_8);
             final BufferedReader br = new BufferedReader(rd)) {
            br.lines()
              .filter(line -> !line.trim().isEmpty())
              .forEach(line ->  {
                final String[] parts = line.split(\\"=\\", 2);
                final String fqn = parts[0];
                final String className = parts[1];
                result.put(fqn, className);
            });
        }
        catch (final IOException exception) {
            throw new UncheckedIOException(exception);
        }
        return result;
    }

    private final Map<String, Class<?>> cache = new HashMap<>();

    public $Module() {
        super(\\"javapackage\\", \\"0.0.0\\", $Module.class, \\"javapackage@0.0.0.jsii.tgz\\");
    }

    @Override
    protected Class<?> resolveClass(final String fqn) throws ClassNotFoundException {
        if (!MODULE_TYPES.containsKey(fqn)) {
            throw new ClassNotFoundException(\\"Unknown JSII type: \\" + fqn);
        }
        String className = MODULE_TYPES.get(fqn);
        if (!this.cache.containsKey(className)) {
            this.cache.put(className, this.findClass(className));
        }
        return this.cache.get(className);
    }

    private Class<?> findClass(final String binaryName) {
        try {
            return Class.forName(binaryName);
        }
        catch (final ClassNotFoundException exception) {
            throw new RuntimeException(exception);
        }
    }
}
",
  "src/main/java/hello/world/Hello.java": "package hello.world;


@software.amazon.jsii.Jsii(module = hello.world.$Module.class, fqn = \\"javapackage.Hello\\")
public class Hello extends software.amazon.jsii.JsiiObject {

    protected Hello(final software.amazon.jsii.JsiiObjectRef objRef) {
        super(objRef);
    }

    protected Hello(final software.amazon.jsii.JsiiObject.InitializationMode initializationMode) {
        super(initializationMode);
    }

    public Hello() {
        super(software.amazon.jsii.JsiiObject.InitializationMode.JSII);
        software.amazon.jsii.JsiiEngine.getInstance().createNewObject(this);
    }

    public @org.jetbrains.annotations.NotNull java.lang.Number add(final @org.jetbrains.annotations.NotNull hello.world.Operands ops) {
        return this.jsiiCall(\\"add\\", java.lang.Number.class, new Object[] { java.util.Objects.requireNonNull(ops, \\"ops is required\\") });
    }
}
",
  "src/main/java/hello/world/Operands.java": "package hello.world;


@software.amazon.jsii.Jsii(module = hello.world.$Module.class, fqn = \\"javapackage.Operands\\")
@software.amazon.jsii.Jsii.Proxy(Operands.Jsii$Proxy.class)
public interface Operands extends software.amazon.jsii.JsiiSerializable {

    @org.jetbrains.annotations.NotNull java.lang.Number getLhs();

    @org.jetbrains.annotations.NotNull java.lang.Number getRhs();

    /**
     * @return a {@link Builder} of {@link Operands}
     */
    static Builder builder() {
        return new Builder();
    }
    /**
     * A builder for {@link Operands}
     */
    public static final class Builder implements software.amazon.jsii.Builder<Operands> {
        private java.lang.Number lhs;
        private java.lang.Number rhs;

        /**
         * Sets the value of {@link Operands#getLhs}
         * @param lhs the value to be set. This parameter is required.
         * @return {@code this}
         */
        public Builder lhs(java.lang.Number lhs) {
            this.lhs = lhs;
            return this;
        }

        /**
         * Sets the value of {@link Operands#getRhs}
         * @param rhs the value to be set. This parameter is required.
         * @return {@code this}
         */
        public Builder rhs(java.lang.Number rhs) {
            this.rhs = rhs;
            return this;
        }

        /**
         * Builds the configured instance.
         * @return a new instance of {@link Operands}
         * @throws NullPointerException if any required attribute was not provided
         */
        @Override
        public Operands build() {
            return new Jsii$Proxy(lhs, rhs);
        }
    }

    /**
     * An implementation for {@link Operands}
     */
    final class Jsii$Proxy extends software.amazon.jsii.JsiiObject implements Operands {
        private final java.lang.Number lhs;
        private final java.lang.Number rhs;

        /**
         * Constructor that initializes the object based on values retrieved from the JsiiObject.
         * @param objRef Reference to the JSII managed object.
         */
        protected Jsii$Proxy(final software.amazon.jsii.JsiiObjectRef objRef) {
            super(objRef);
            this.lhs = this.jsiiGet(\\"lhs\\", java.lang.Number.class);
            this.rhs = this.jsiiGet(\\"rhs\\", java.lang.Number.class);
        }

        /**
         * Constructor that initializes the object based on literal property values passed by the {@link Builder}.
         */
        private Jsii$Proxy(final java.lang.Number lhs, final java.lang.Number rhs) {
            super(software.amazon.jsii.JsiiObject.InitializationMode.JSII);
            this.lhs = java.util.Objects.requireNonNull(lhs, \\"lhs is required\\");
            this.rhs = java.util.Objects.requireNonNull(rhs, \\"rhs is required\\");
        }

        @Override
        public java.lang.Number getLhs() {
            return this.lhs;
        }

        @Override
        public java.lang.Number getRhs() {
            return this.rhs;
        }

        @Override
        public com.fasterxml.jackson.databind.JsonNode $jsii$toJson() {
            final com.fasterxml.jackson.databind.ObjectMapper om = software.amazon.jsii.JsiiObjectMapper.INSTANCE;
            final com.fasterxml.jackson.databind.node.ObjectNode data = com.fasterxml.jackson.databind.node.JsonNodeFactory.instance.objectNode();

            data.set(\\"lhs\\", om.valueToTree(this.getLhs()));
            data.set(\\"rhs\\", om.valueToTree(this.getRhs()));

            final com.fasterxml.jackson.databind.node.ObjectNode struct = com.fasterxml.jackson.databind.node.JsonNodeFactory.instance.objectNode();
            struct.set(\\"fqn\\", om.valueToTree(\\"javapackage.Operands\\"));
            struct.set(\\"data\\", data);

            final com.fasterxml.jackson.databind.node.ObjectNode obj = com.fasterxml.jackson.databind.node.JsonNodeFactory.instance.objectNode();
            obj.set(\\"$jsii.struct\\", struct);

            return obj;
        }

        @Override
        public boolean equals(Object o) {
            if (this == o) return true;
            if (o == null || getClass() != o.getClass()) return false;

            Operands.Jsii$Proxy that = (Operands.Jsii$Proxy) o;

            if (!lhs.equals(that.lhs)) return false;
            return this.rhs.equals(that.rhs);
        }

        @Override
        public int hashCode() {
            int result = this.lhs.hashCode();
            result = 31 * result + (this.rhs.hashCode());
            return result;
        }
    }
}
",
  "src/main/resources/hello/world/$Module.txt": "javapackage.Hello=hello.world.Hello
javapackage.Operands=hello.world.Operands
",
  "src/main/resources/hello/world/javapackage@0.0.0.jsii.tgz": "�      �ko�H�����K���&@J�Hw�&�B ��ʏ�Yb���5�T��?1��.m�:F����˳��qU�Q5Q�8f��1 IR�R֭T��5��I�\\\\�I@'�R�����x��T��|\\"c������� ���G�\`s��f���*G�騨;���Q�B��
�>��3��B�@L����!ӱ:Q�(�BF�ȱ�� 9��=(�RqE�=DY�A.֋��^�eU�V�՝���:\\",d�'���E)B%F�ȧ�u���y ��Z�Zk5L�d �VC�oI*�R\\"B�D�-�J�3�����B�L��s�Xz�:!�I���c�<�c�e9�'�Z1]Lg�!���TD���'gNLYl2��TƐ�Y�:�_�3I)0����0J�=b��[ eAo9�ěB.óвg���h0�������_�,�\`��jŧ6�H7��/d$����i���cfu�%I�[5�����)�8�%m�/1qܼ�3�ߴ�^��<���6�>/iM�(a�n۠��RlC�LB��gk��e-��(��� 
��S����tC�jl �z���Wbx������J�'�W�r�k�g��1N!���qض=�jV�'/��}�e��{�Y����˄���ʋ����� �n��⾇k4�H01愇�޹�==����ǡy7�f�q�6M�>U��.>�������u�H,�o]m�� N7�|�����x����{r��/���g��1$@����h 8g�S����h�:��]A���8��
߄�jy(JN�|�F՛p$Ll�a!�΄h5�P���\\"c'�6�_��\\"d_�C8�ls'��
��yX(�~��Q]��	�{qܴ0��0O���!���P����vy8h��~�S����m���c<�W%�<z*�İ>��z�}�w���R�W���uY��,�Wj}�mi����
�����'KL���j��m̂��3�߹;����^�stq��;�swv�;��\`�uqzk��+�5�oy�sw%u���>]���Yp?�����?=���%�o��q���=λ��Y��������1h�����\\\\�_(cWS����i*�^Eo�}��!]K�����y�׀�7l]�H�i�۽ѰY��֣�5G�k������eЬ�]���AC7
_m]֔fU��mKs]�!M}Ь&c��t���t��]�7�Ӛ�e�zXkZc�y�8<M��i�	��H����[��H���=_i%rR�%���4�O�_e��y�7�n�9�xܒx0����\`�CH�Rv��e���!���?�	���O�o϶F�ai����h���+>�L\\\\�!�I}�\\\\;g]�fS�fw���֙A�f���i�K[?���jgs�%�u������Y*�75�VJ�y��6�����}�Em�E���1��[��6���|-���\\\\^��{r����?��ZH{JB�ታE����&?���e�b�*]0T�	k��T�Nv�[;d[���'�7/���    ",
}
`;

exports[`outputJsii can be used to look at the jsii file 1`] = `
Object {
  "author": Object {
    "name": "generated@generated.com",
    "roles": Array [
      "author",
    ],
  },
  "description": "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6",
  "fingerprint": "6oK+Fme17BaQrSRFIR9SO8fcGINzbxpouGPKqn9MAhs=",
  "homepage": "http://generated",
  "jsiiVersion": "1.9.0 (build 5c646d5)",
  "license": "Apache-2.0",
  "name": "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6",
  "repository": Object {
    "type": "git",
    "url": "http://generated",
  },
  "schema": "jsii/0.10.0",
  "targets": Object {
    "js": Object {
      "npm": "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6",
    },
  },
  "types": Object {
    "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6.Foo": Object {
      "assembly": "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6",
      "fqn": "1bc04b5291c26a46d918139138b992d2de976d6851d0893b0476b85bfbdfc6e6.Foo",
      "initializer": Object {},
      "kind": "class",
      "locationInModule": Object {
        "filename": "index.ts",
        "line": 2,
      },
      "methods": Array [
        Object {
          "locationInModule": Object {
            "filename": "index.ts",
            "line": 3,
          },
          "name": "hello",
          "returns": Object {
            "type": Object {
              "primitive": "string",
            },
          },
          "static": true,
        },
      ],
      "name": "Foo",
    },
  },
  "version": "0.0.0",
}
`;

exports[`python + different entrypoint + submodule 1`] = `
Object {
  "mypython_module/submodule/__init__.py": "import abc
import builtins
import datetime
import enum
import typing

import jsii
import jsii.compat
import publication

from ._jsii import *


class Hello(metaclass=jsii.JSIIMeta, jsii_type=\\"pythonpackage.Hello\\"):
    def __init__(self) -> None:
        jsii.create(Hello, self, [])

    @jsii.member(jsii_name=\\"add\\")
    def add(self, *, lhs: jsii.Number, rhs: jsii.Number) -> jsii.Number:
        \\"\\"\\"
        :param lhs: -
        :param rhs: -
        \\"\\"\\"
        ops = Operands(lhs=lhs, rhs=rhs)

        return jsii.invoke(self, \\"add\\", [ops])


@jsii.data_type(
    jsii_type=\\"pythonpackage.Operands\\",
    jsii_struct_bases=[],
    name_mapping={\\"lhs\\": \\"lhs\\", \\"rhs\\": \\"rhs\\"},
)
class Operands:
    def __init__(self, *, lhs: jsii.Number, rhs: jsii.Number) -> None:
        \\"\\"\\"
        :param lhs: -
        :param rhs: -
        \\"\\"\\"
        self._values = {
            \\"lhs\\": lhs,
            \\"rhs\\": rhs,
        }

    @builtins.property
    def lhs(self) -> jsii.Number:
        return self._values.get(\\"lhs\\")

    @builtins.property
    def rhs(self) -> jsii.Number:
        return self._values.get(\\"rhs\\")

    def __eq__(self, rhs) -> bool:
        return isinstance(rhs, self.__class__) and rhs._values == self._values

    def __ne__(self, rhs) -> bool:
        return not (rhs == self)

    def __repr__(self) -> str:
        return \\"Operands(%s)\\" % \\", \\".join(
            k + \\"=\\" + repr(v) for k, v in self._values.items()
        )


__all__ = [
    \\"Hello\\",
    \\"Operands\\",
]

publication.publish()
",
  "mypython_module/submodule/_jsii/__init__.py": "import abc
import builtins
import datetime
import enum
import typing

import jsii
import jsii.compat
import publication

__jsii_assembly__ = jsii.JSIIAssembly.load(
    \\"pythonpackage\\", \\"0.0.0\\", __name__[0:-6], \\"pythonpackage@0.0.0.jsii.tgz\\"
)

__all__ = [
    \\"__jsii_assembly__\\",
]

publication.publish()
",
  "mypython_module/submodule/_jsii/pythonpackage@0.0.0.jsii.tgz": "�      �ko�H�>�+,ߗF́m^%(��H��ש��X\`��z�S��o��]ڪ:F����kg��$e.MP*9#��c��\\\\&�[Ȥ���9��s9��	� ���8�J6��_��0��7�o	�a%�NM��a��
IG0c'�@�D��w<J*��^d��!t���
�	��!�\\"��آ�4<��D�ĝϊ��:�����Z7�T,0�𢳇l����$Ǽ���LV�erj�*�԰��zB��/!��Ȭ#��2	���n�@]+���Ŏ��1���@]�h<�S\\\\��\\"�fDɆ�l3����C�|�:��������Y��Z7UG�l�,%�#��@B��g�;�$kH��m�!H�5��S}���C�4��K^!?�1b�
�ۭh iC����E�h4##�<�XC�I�x<F62h
~���.~�U>\\\\���h�n�6�%�/�b[�w[��m�8t%U���Z�
(
WcG�}�w��־�h��t�,�6|�G�N��}���FԱ
r�z���u��o���2�ٓ�6�hK���v\`��\\"^��Am=b1�
8Ա����A�G���l�(F�\\\\
I&Ԗ�g��ú�PI���rޮ�ٶm_��mҦ�{�߹��
����3����_�3�5�{�,6�txQF��16&���2�R�#��|J����,�0�e���
K��q�_�;o��-�X'~uM�;A��R��3#�'����Ϧ���_��K��3�ub ;a�N�ă<C
M�n ��|�
ZZ�M�5�~��H����o�B��-f}UL��A}��2�WL����7P�\\\\m%��\\"\`\`5	y�y� Ô�>\`�?��T�O������dY�:�:�[�-|S��3hjFL�(K�2�ȭ�A}%��83W�r]��K
�x��r�1w$��a}%�{�P�ue��yxŊP���)���uM6:.��>���g���Q�J�dɺ���?�H��Tiu��<��{Zj?�|��r�+/k�Vkܷ\`�I:\\\\�4|���S�k��G�}lܫ�SHpm7��<������������q�熞:��=��ۮHD��P��hк��,��B�Y��-��~\\"V{�Zp�2�ct4EM����1]�q�՚ć��S��tT-8rm>����.9j�ǣ��T3������9�#�[r�Z3'V��ܯkʌ*2�i
�j6k�VZ(F{2�S%ݜt�=\\"W��ʮ��\\\\�fb�2����{_�
�>����ã9���=W�Erb�9��#V_7K@�����p�ؒ3�����w��/�wB����Ի&�-������~����%���v�1r�@�F϶�X]�Ʊ�tF؝n��ծϵs��lN5h�[:q
�uj6L����\\"q�g�ys�s�!�LT2oJeY�P��aA������1��w�����;�׊�3�_�4��?�����
L�����$�44����	>�{Ui����s����E]mo����.p��	��a    ",
  "mypython_module/submodule/py.typed": "
",
}
`;
